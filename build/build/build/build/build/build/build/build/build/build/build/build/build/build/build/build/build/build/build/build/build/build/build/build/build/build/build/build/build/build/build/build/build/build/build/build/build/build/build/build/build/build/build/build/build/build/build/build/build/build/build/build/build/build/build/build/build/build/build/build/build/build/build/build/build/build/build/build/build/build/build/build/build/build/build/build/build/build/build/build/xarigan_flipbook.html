<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Par Sophie Donnet, Julie Aubert et Isabelle Sanchez" />


<title>Présentations with Xarigan et flipbook</title>

<script src="site_libs/header-attrs-2.10/header-attrs.js"></script>
<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>


<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>







<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Finist'R 2021</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="https://github.com/StateOfTheR/finistR2021">
    <span class="fa fa-github"></span>
     
    
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="instructions.html">
    <span class="fa fa-gear"></span>
     
    Workflow
  </a>
</li>
<li>
  <a href="datavizu.html">
    <span class="fa fa-gear"></span>
     
    Nouvelles Fonctions Graphiques
  </a>
</li>
<li>
  <a href="deepnote.html">
    <span class="fa fa-user-graduate"></span>
     
    Enseignement
  </a>
</li>
<li>
  <a href="webpages.html">
    <span class="fa fa-address-book-o"></span>
     
    Site Web
  </a>
</li>
<li>
  <a href="xarigan_flipbook.html">
    <span class="fa fa-slideshare"></span>
     
    Présentations
  </a>
</li>
<li>
  <a href="shiny.html">Shiny</a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Présentations with Xarigan et flipbook</h1>
<h4 class="author">Par Sophie Donnet, Julie Aubert et Isabelle Sanchez</h4>

</div>


<p>Nous avons travaillé à la fois sur Xarigan d’une part et d’autre part sur FlipbookR.</p>
<p><a href="https://bookdown.org/yihui/rmarkdown/xaringan.html">Xarigan</a> est une extension de Rmarkdown qui permet de générer des présentations html d’un nouveau style.</p>
<p><a href="https://evamaerey.github.io/flipbookr/">FlipbookR</a> est un outil permettant d’afficher côte à côte un code R et son résultat un fois exécuté, ce de façon séquentielle (commande par commande). C’est un outil utile pour les cours et les tutoriels.</p>
<p><br></p>
<div id="a-propos-de-xarigan" class="section level2">
<h2>1. A propos de Xarigan</h2>
<p>L’auteur revendique de l’avoir proposée car il ne supportait plus de voir beamer utilisé partout tout le temps. IL est basé sur remark.js mais en est une version pour les nuls.</p>
<p>Il faut l’installer comme un package <code>install.packages(xarigan)</code>.</p>
<p>Ensuite, on écrit sa présentation dans un fichier classique <code>.Rmd</code> donc il faut en entête classique.</p>
<pre><code>---
title: &quot;My trial&quot;
subtitle: &quot;New way to do presentation&quot;
author: &quot;Sophie Donnet&quot;
output:
  xaringan::moon_reader:
    lib_dir: libs
    css: [default, metropolis, metropolis-fonts]
    nature:
      ratio: 16:9
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
---</code></pre>
<p>Le style est défini dans <code>css:</code>. J’ai pris ici le style metropolis, qui est LE STYLE à la mode en ce moment (minimaliste, etc…). On peut aussi définir ses propres classes css (repartir d’un fichier déjà existant est conseillé.)</p>
<p>Chaque nouveau slide <strong>commence avec 3 tirets (<code>---</code>) suivis directement d’un saut de ligne</strong>. Si il y a des espaces avant ou après ça peut entraîner des erreurs. Ensuite le contenu des slides est très libres.</p>
<p>Vous pouvez avoir des titres ou pas de titre, on des titres de diférents niveaux (<code>#</code>, <code>##</code>, etc…)</p>
<p>On peut définir au niveau des chaques slides des propriétés particulières.</p>
<pre><code>---

class: center, inverse
background-image: url(&quot;images/cool.png&quot;)

# A new slide

Content.</code></pre>
<p>Les caractéristiques <code>inverse</code> sont définies dans le fichier <code>.css</code>.</p>
<p>Pour utiliser son propre fichier <code>.css</code> (et non un style déjà défini), on peut y faire appel avec <code>moon_reader</code>:</p>
<pre><code>---
output:
  xaringan::moon_reader:
    css: &quot;my-style.css&quot;
---</code></pre>
<p>Le fichier <code>my-style.css</code> contient des instructions du genre :</p>
<pre><code>.inverse {
  background-color: #272822;
  color: #d6d6d6;
  text-shadow: 0 0 20px #333;
}</code></pre>
<center>
<img src="figs/examples_xarigan_metropolis.png" title="fig:" style="width:50.0%" alt="Metropolis presentation with Xarigan" />
</center>
</div>
<div id="xariganthemer" class="section level1">
<h1>2. Xariganthemer</h1>
<p>Pour définir plus facilement son thème xarigan <a href="https://pkg.garrickadenbuie.com/xaringanthemer/"><code>xariganthemer</code></a> a été développé.</p>
<p>Pour cela, il faut installer le package, y faire appel dans les instructions yml d’entête</p>
<pre><code>output:
  xaringan::moon_reader:
    css: xaringan-themer.css
    </code></pre>
<p>Il faut maintenant ajouter un chunk pour définir les font etc…</p>
<pre><code>
```{r xaringan-themer, include=FALSE, warning=FALSE}

library(xaringanthemer)
style_mono_accent(
  base_color = &quot;#1c5253&quot;,
  header_font_google = google_font(&quot;Josefin Sans&quot;),
  text_font_google   = google_font(&quot;Montserrat&quot;, &quot;300&quot;, &quot;300i&quot;),
  code_font_google   = google_font(&quot;Fira Mono&quot;)
)

```</code></pre>
<p>On peut alors utiliser les éléments de chartre graphique institutionnelle. Par exemple, pour <a href="https://www.inrae.fr/charte-graphique-inrae">INRAE</a> :</p>
<pre><code>
```{r xaringan-themer-INRAE, include=FALSE, warning=FALSE}
style_mono_accent(
  base_color = &quot;#00a3a6&quot;,
  text_bold_color = &quot;#008c8e&quot;,
  header_font_google = google_font(&quot;Raleway&quot;),
  text_font_google   = google_font(&quot;Avenir Next Pro&quot;, &quot;300&quot;, &quot;300i&quot;),
  code_font_google   = google_font(&quot;Fira Mono&quot;)
)
```</code></pre>
<center>
<img src="figs/presentation_inrae.png" title="fig:" style="width:50.0%" alt="Présentation cssINRAE" />
</center>
<div id="flipbookr" class="section level2">
<h2>3. Flipbookr</h2>
<p>Extension de xaringan pour incorporer du code R et afficher les outputs séquentiellement. Le package est très récent et évoluera probablement par la suite. Il repose sur la grammaire “tidyverse” avec une facilité pour les codes contenant des pipes ou pour les graphs ggplot2, les “+”.</p>
<p>La fonction <code>chunk_reveal()</code> définit le partitionnement du code R et l’affichage de la sortie.</p>
<p><strong>flipbookr</strong> peut être installé directement par le CRAN ou à partir du repository de l’auteur sur github.</p>
<p>Rajouter un chunk spécifique css:</p>
<pre><code>
```{css, eval = TRUE, echo = FALSE}
.remark-code{line-height: 1.5; font-size: 80%}
@media print {
  .has-continuation {
    display: block;
  }
}
```
</code></pre>
<p>Pour le moment, les possibilités avec la fonction <code>chunk_reveal()</code> sont:</p>
<ul>
<li><code>break_type</code>: le créateur choisit la vitesse d’affichage en ajoutant les mots clés #BREAK, #BREAK2 # BREAK3</li>
<li><code>lang</code>: le code est par défaut du R, mais python est disponible également même si en version expérimental pour le moment</li>
<li><code>display_type</code>: les type de sortie, par défaut <code>c("code","output")</code>, mais “md” et “func” sont dispos aussi</li>
<li><code>code_seq</code>: une suite d’options définissant la séquentialité du code</li>
<li><code>widths</code>: définition des largeurs de fenêtres pour le code et l’output</li>
</ul>
<p>Le code R est inclus dans un chunk classique, devant porter un nom, dans le fichier Rmd d’une présentation xaringan. Puis la fonction <code>chunk_reveal</code> est utilisé en ligne dans le Rmd:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="kw">`</span><span class="ex">r</span> chunk_reveal<span class="er">(</span><span class="ex">chunk_name</span> = <span class="st">&quot;my_cars2&quot;</span>, break_type=<span class="st">&quot;user&quot;</span>, title = <span class="st">&quot;### graph&quot;</span><span class="kw">)`</span></span></code></pre></div>
<p><a href="https://evamaerey.github.io/flipbookr/minimal_flipbook_double_crochet.html#1" class="uri">https://evamaerey.github.io/flipbookr/minimal_flipbook_double_crochet.html#1</a></p>
<p>Un résumé des différentes étapes de mise en place d’un flipbook, extrait d’un tuto de l’auteur:</p>
<p><a href="https://evamaerey.github.io/flipbooks/flipbook_recipes#1" class="uri">https://evamaerey.github.io/flipbooks/flipbook_recipes#1</a></p>
<p>Now your are cooking with {flipbookr} and {xaringan}. We went through these steps:</p>
<ul>
<li>Step 0: Install {flipbookr} and {xaringan}</li>
<li>Step 1: Set up .Rmd (a. YAML, b. setup code chunk, c. css code chunk)</li>
<li>Step 2: Write a source code to be flipbooked</li>
<li>Step 3: Use {flipbookr}’s chunk_reveal to build flipbook (upon knit)</li>
</ul>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
